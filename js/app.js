function shuffleArray(e){var t,s,o;for(o=e.length-1;o>0;o--)t=Math.floor(Math.random()*(o+1)),s=e[o],e[o]=e[t],e[t]=s;return e}function getCoinInfo(e){var t=new XMLHttpRequest,s="https://api.coinmarketcap.com/v1/ticker/"+e+"/";t.open("GET",s,!1),t.send();var o=JSON.parse(t.responseText);return console.log("Info = %o",o[0]),o[0]}var game_data={};$(function(){particlesJS.load("particles","data/particles.json",function(){}),$.getJSON("data/gamedata.json",function(e){console.log("loaded data: %o",e),game_data=e,console.log("game data: %o",game_data)},function(e){alert("Could not load game data.")})});var game=new Vue({el:"#game",data:{started:!1,ended:!1,guessed:!1,guessed_correct:!1,game_questions:[],current_question_idx:0,total_correct:0},methods:{startGame:function(){this.started=!0,this.ended=!1,this.current_question_idx=0,this.total_correct=0,this.game_data=game_data;var e=shuffleArray(game_data.questions).slice(0,game_data.game_rules.questions_per_game);this.game_questions=e},total_game_questions:function(){return this.game_questions.length},nextQuestion:function(){this.current_question_idx<this.game_questions.length-1?(this.current_question_idx+=1,this.guessed=null,null!=this.game_questions[this.current_question_idx].coinmarketcap_id&&(console.log("Gonna fetch coin info"),this.game_questions[this.current_question_idx].coin_info=getCoinInfo(this.game_questions[this.current_question_idx].coinmarketcap_id))):(console.log("Game over"),this.ended=!0)},guess:function(e){console.log("guessed: %o",e),this.guessed=e;var t=this.game_questions[this.current_question_idx];e==t.category||"both"==t.category?(this.guessed_correct=!0,this.total_correct++):this.guessed_correct=!1}}});