function shuffleArray(t){var e,o,a;for(a=t.length-1;a>0;a--)e=Math.floor(Math.random()*(a+1)),o=t[a],t[a]=t[e],t[e]=o;return t}var game_data={};$(function(){particlesJS.load("particles","data/particles.json",function(){}),$.getJSON("data/gamedata.json",function(t){console.log("loaded data: %o",t),game_data=t,console.log("game data: %o",game_data)},function(t){alert("Could not load game data.")})});var game=new Vue({el:"#game",data:{started:!1,ended:!1,guessed:!1,guessed_correct:!1,game_questions:[],current_question_idx:0,isCrypto:!1,total_correct:0},methods:{startGame:function(){this.started=!0,this.ended=!1,this.current_question_idx=0,this.total_correct=0,this.game_data=game_data;var t=shuffleArray(game_data.questions).slice(0,game_data.game_rules.questions_per_game);this.game_questions=t,this.preLoadCoinInfo()},total_game_questions:function(){return this.game_questions.length},preLoadCoinInfo:function(){$.each(this.game_questions,function(t,e){ticker=e.coinmarketcap_id,null!=e.coinmarketcap_id&&$.ajax({url:"https://api.coinmarketcap.com/v1/ticker/"+ticker+"/",dataType:"json",success:function(t){e.coin_info=t[0],e.coin_marketcap=t[0].market_cap_usd,console.log(e.coin_marketcap.toLocaleString("en"))},error:function(){console.log("error featching token info")}})})},nextQuestion:function(){console.log("resettting state"),this.isCrypto=!1,this.current_question_idx<this.game_questions.length-1?(this.current_question_idx+=1,this.guessed=null):(console.log("Game over"),this.ended=!0)},guess:function(t){console.log("guessed: %o",t),this.guessed=t;var e=this.game_questions[this.current_question_idx];"crypto"==e.category||"both"==e.category?this.isCrypto=!0:"edm"==e.category&&(this.isCrypto=!1),t==e.category||"both"==e.category?(this.guessed_correct=!0,this.total_correct++):this.guessed_correct=!1}}});